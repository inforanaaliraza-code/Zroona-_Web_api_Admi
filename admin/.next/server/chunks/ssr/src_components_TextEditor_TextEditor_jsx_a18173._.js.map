{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/TextEditor/TextEditor.jsx"],"sourcesContent":["\"use client\";\nimport { useMemo, useRef, memo, useEffect, useState } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport S3 from \"react-aws-s3\";\nimport { uid } from \"uid\";\nimport { config } from \"@/until\";\n\n// Dynamically import ReactQuill to reduce initial bundle\nconst ReactQuill = dynamic(() => import(\"react-quill\"), {\n  ssr: false,\n  loading: () => <div className=\"h-32 bg-gray-100 rounded animate-pulse\" />\n});\n\n// Import CSS normally (Next.js handles CSS imports)\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./style.css\";\n\n// Lazy register Quill modules\nlet quillInitialized = false;\nlet QuillInstance = null;\nlet SizeInstance = null;\n\nconst initializeQuill = async () => {\n  if (typeof window !== \"undefined\" && !quillInitialized) {\n    const [{ Quill }, ImageResize] = await Promise.all([\n      import(\"react-quill\").then(mod => ({ Quill: mod.Quill || mod.default?.Quill })),\n      import(\"quill-image-resize-module-react\")\n    ]);\n    \n    if (Quill) {\n      QuillInstance = Quill;\n      Quill.register(\"modules/imageResize\", ImageResize.default || ImageResize);\n      \n      SizeInstance = Quill.import(\"attributors/style/size\");\n      SizeInstance.whitelist = [\"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"16px\", \"18px\", \"20px\", \"22px\", \"24px\"];\n      Quill.register(SizeInstance, true);\n      \n      quillInitialized = true;\n    }\n  }\n};\n\nconst TextEditor = memo(function TextEditor(props) {\n  const quillRef = useRef(null);\n  const [quillReady, setQuillReady] = useState(false);\n  const QID = useMemo(() => uid(), []);\n  \n  const ReactS3Client = useMemo(() => new S3(config), []);\n  const newFileName = QID;\n\n  useEffect(() => {\n    initializeQuill().then(() => setQuillReady(true));\n  }, []);\n\n  const ImageUpload = (formData) => {\n    var url = ReactS3Client.uploadFile(formData, newFileName).then((data) => {\n      return data.location;\n    });\n    return url;\n  };\n\n  const hideImage = () => {\n    quillRef.current.setOptions({ showImageOptions: false });\n  };\n\n  const imageHandler = (e) => {\n    const editor = quillRef.current.getEditor();\n    console.log(editor, \"editor\");\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"file\");\n    input.setAttribute(\"accept\", \"image/*\");\n    input.click();\n\n    input.onchange = async () => {\n      const file = input.files[0];\n      if (/^image\\//.test(file.type)) {\n        // console.log(file);\n\n        const res = await ImageUpload(input.files[0]); // upload data into server or aws or cloudinary\n\n        // console.log(res, \"res\");\n        editor.insertEmbed(editor.getSelection(), \"image\", res);\n      }\n    };\n  };\n  const modules = useMemo(\n    () => ({\n      // uploader: {\n      //   // insertImageAsBase64URI: imageHandler,\n      //   url: \"none\",\n      // },\n      toolbar: {\n        container: [\n          [{ header: [1, 2, 3, 4, 5, 6, false] }],\n          [\"bold\", \"italic\", \"underline\", \"strike\"],\n          [{ size: SizeInstance?.whitelist || [\"10px\", \"11px\", \"12px\", \"13px\", \"14px\", \"16px\", \"18px\", \"20px\", \"22px\", \"24px\"] }],\n          [\n            { list: \"ordered\" },\n            { list: \"bullet\" },\n            { indent: \"-1\" },\n            { indent: \"+1\" },\n          ],\n          [\"link\"],\n          [{ color: [] }, { background: [] }],\n          [{ font: [] }],\n          [{ align: [] }],\n        ],\n        handlers: {\n          image: imageHandler,\n        },\n      },\n      imageResize: {\n        parchment: QuillInstance?.import(\"parchment\"),\n        modules: [\"Resize\", \"DisplaySize\"],\n      },\n    }),\n    []\n  );\n\n  if (!quillReady) {\n    return <div className=\"h-32 bg-gray-100 rounded animate-pulse\" />;\n  }\n\n  return (\n    <>\n      <ReactQuill\n        theme=\"snow\"\n        className={`textarea-control border-0 p-0  ${\n          props.disabled ? \"hideTopBar\" : \"shadow\"\n        }`}\n        style={{ color: \"black\" }}\n        ref={props.ref}\n        modules={modules}\n        value={props.value}\n        onBlur={props.onBlur}\n        onChange={(content, delta, source, editor) => {\n          props.formik.setFieldValue(props.name, content);\n        }}\n        readOnly={props.disabled && props.disabled}\n      />\n    </>\n  );\n});\n\nTextEditor.displayName = 'TextEditor';\n\nexport default TextEditor;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}